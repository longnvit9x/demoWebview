<!DOCTYPE html>
<html>
<head>
    <script src="library/tmpl.min.js"></script>
    <meta charset="utf-8"/>

    <link rel="stylesheet" href="styles.css"/>
    <script type="text/javascript">
	    	var ticket = {
			"TICKET":" PHIẾU TÍNH TIỀN",
			"TICKET_ID": "Số hóa đơn",
		    "TICKET_NAME": "Tên hóa đơn",
		    "POS_NAME": "POS",
		    "EMPLOYEE": "Nhân viên",
		    "TICKET_NOTE": "Chú thích",
		    "CREATE_DATE": "Ngày",
		    "PAT_DATE": "Ngày thanh toán",
		    "TOTAL_PRODUCT_PRICE": "Tiền hàng",
		    "TOTAL_DISCOUNT": "Khuyến mại",
		    "TAX_AMOUNT": "Thuế",
		    "TOTAL_AMOUNT": "Tổng thanh toán",
		    "MONEY": "Khách trả",
		    "MONEY_BACK": "Trả lại",
		    "CUSTOMER_NAME": "Khách hàng",
		    "CUSTOMER_EMAIL": "Email",
		    "CUSTOMER_SDT": "SDT",
		    "DISCOUNT_APPLY":"Các khuyến mại áp dụng",
		    "PAY_METHOD":"Hình thức thanh toán",
		    "customer_sdt":"0987654321",
		    "discounts":[
                    {
                        "discount_name":"Giảm giá khách hàng thân thiết",
                        "discount_value":"10.000",
                    },
                    {
                        "discount_name":"Giảm giá hóa đơn",
                        "discount_value":"20.000",
                    }
		    ],
		    "taxes":[
                    {
                        "tax_name":"Thuế VAC",
                        "tax_value":"10.000",
                    }
		    ],
		    "pay_method":"Tiền mặt",
		    "image":"http://dzodzo.com.vn/Upload/item_image/camep.jpg",
		    "header":"Công ty Cổ phần Đầu tư Phát triển Công nghệ và Truyền thông - NEO Tòa CT2, Tràng An Complex, Số 1 Phùng Chí Kiên, Nghĩa Đô, Cầu Giấy, Hà nội",
		    "footer":"Chúc bạn một ngày tốt lành",
		    "ticket_id": "123",
		    "ticket_name": "TICKET-15:40",
		    "employee":"Longnv",
		    "pos_name":"Phùng Chí Kiên- Hà Nội",
		    "ticket_note": "Hãy giữ lại hóa đơn",
		    "create_date": "11/1/2018 11:30:32",
		    "pay_date": "11/1/2018 11:30:32",
		    "list_product_ticket": [
		        {
		            "product_name": "Bánh mì",
		            "product_price": "10,000",
		            "number": "10",
		            "total_price": "100,000"
		        },
		        {
		             "product_name": "Bánh trứng",
		            "product_price": "10,000",
		            "number": 10,
		            "total_price": "100,000"
		        }
		    ],
		    "total_product_price":"200,000",
		     "total_discount":"10,000",
		     "tax_amount":"5,000",
		     "total_amount":"195,000",
		     "money": "200,000",
		     "money_back": "5,000",
		     "is_show_customer": true,
		     "customer_name":"Nguyễn Văn Long",
		     "customer_email":"longnv@neo.vn"
		    };

	    window.loadContent = function(templateId, jsonData) {
	            var elContent = document.getElementById("content");

				var template = "";

				if(jsonData) {
	                template = tmpl(templateId, jsonData);
	            } else {
	                template = tmpl(templateId, ticket);
	            }

	            elContent.innerHTML = template;
	    }

	    window.clearContent = function() {
	        var elContent = document.getElementById("content");
	        elContent.innerHTML = "";
	    }




    </script>

    <script id="pay-template" type="text/x-tmpl">
		<div class="font-size-14">
	         <!--<div class="print-logo"-->
	         <!--style='background: url({%=o.image%})'>-->

	         <!--</div>-->
	        <div class="line">
	            <p>{%=o.header%}</p>
	        </div>

	        <div class="line">
	        	<h3>{%=o.TICKET%}</h3>
	        </div>

            <div class="line">
				{%=o.TICKET_ID%}
				<span class="value">{%=o.ticket_id%}</span>
			</div>

			 <div class="line">
				{%=o.TICKET_NAME%}
				<span class="value">{%=o.ticket_name%}</span>
			</div>

	        <div class="line">
				{%=o.CREATE_DATE%}
				:
				<span class="value">{%=o.create_date%}</span>
			</div>

	        <div class="line">
	        	{%=o.EMPLOYEE%}:
	            <span class="value">{%=o.employee%}</span>
	        </div>

			<div class="line">
				{%=o.POS_NAME %}
				:
				<span class="value">{%=o.pos_name%}</span>
			</div>

            {% if (o.customer_name!= null && o.customer_name!="") { %}
              	<div class="line">
					{%=o.CUSTOMER_NAME%}
					:
					<span class="value">{%=o.customer_name%}</span>
				</div>
			{%}%}
			{% if (o.customer_email!= null && o.customer_email!="") { %}
				<div class="line">
					{%=o.CUSTOMER_EMAIL%}
					:
					<span class="value">{%=o.customer_email%}</span>
				</div>
           	{%}%}
           	{% if (o.customer_sdt!= null && o.customer_sdt!="") { %}
				<div class="line">
					{%=o.CUSTOMER_SDT%}
					:
					<span class="value">{%=o.customer_sdt%}</span>
				</div>
           	{%}%}
			<div>
		             <table class="table-dashed">
		                <thead>
		                <tr>
		                 <td class="align-left">STT</td>
		                    <td class="align-left">Tên</td>
		                    <td class="align-center">SL</td>
		                    <td class="align-center">Đơn giá</td>
		                    <td class="align-right">Thành tiền</td>
		                </tr>
		                </thead>
		                <tbody>
		                 {% if (o.list_product_ticket!= null&& o.list_product_ticket!="") { %}
			                {% for (var i=0; i<o.list_product_ticket.length; i++) { %}
			                	<tr>
			                	    <td class="align-left">{%=(i+1)%}</td>
			                	    <td class="align-left">{%=o.list_product_ticket[i].product_name%}</td>
			                	    <td class="align-center">{%=o.list_product_ticket[i].number%}</td>
			                    	<td class="align-center">{%=o.list_product_ticket[i].product_price%}</td>
			                    	<td class="align-right">{%=o.list_product_ticket[i].total_price%}</td>
			                	</tr>
			                {%}%}
			              {%}%}
		                </tbody>
		            </table>
		    </div>
		    <hr class="print-hr">

			<div class="line">
				{%=o.TOTAL_PRODUCT_PRICE%}
				:
				<span class="value">{%=o.total_product_price%}</span>
			</div>

            {% if (o.discounts!= null&& o.discounts!="") { %}
			      {% for (var i=0; i<o.discounts.length; i++) { %}
			            <div class="line">
				            {%=o.discounts[i].discount_name%}:
				            <span class="value">{%=o.discounts[i].discount_value%}</span>
			            </div>
			      {%}%}
			 {%}%}

            {% if (o.taxes!= null&& o.taxes!="") { %}
			      {% for (var i=0; i<o.taxes.length; i++) { %}
			            <div class="line">
				            {%=o.taxes[i].tax_name%}:
				            <span class="value">{%=o.taxes[i].tax_value%}</span>
			            </div>
			      {%}%}
			 {%}%}

 			<hr class="print-hr">

			<div class="line">
				{%=o.TOTAL_AMOUNT%}
				:
				<span class="value">{%=o.total_amount%}</span>
			</div>

			<div class="line">
				{%=o.MONEY%}
				:
				<span class="value">{%=o.money%}</span>
			</div>

			<hr class="print-hr">

			<div class="line">
				{%=o.MONEY_BACK%}
				:
				<span class="value">{%=o.money_back%}</span>
			</div>
            <div class="line">
				{%=o.PAY_METHOD%}
				:
				<span class="value">{%=o.pay_method%}</span>
			</div>
			 <div class="line">
	            <p>{%=o.footer%}</p>
	        </div>
		</div>
    </script>

    <script id="temporary-template" type="text/x-tmpl">
		<div class="font-size-14">
	        <div class="line">
	            <p>{%=o.header%}</p>
	        </div>

	        <div class="line">
	        	<p><b>{%=o.TICKET%}</b></p>
	        </div>

	        <div class="line">
	        	{%=o.EMPLOYEE%}:
	            <span class="value">{%=o.employee%}</span>
	        </div>

			<div class="line">
				{%=o.POS_NAME %}
				:
				<span class="value">{%=o.pos_name%}</span>
			</div>


			<div>
		            <table class="table-dashed">
		                <thead>
		                <tr>
		                 <td class="align-left">STT</td>
		                    <td class="align-center">Tên</td>
		                    <td class="align-center">SL</td>
		                    <td class="align-center">Đơn giá</td>
		                    <td class="align-right">Thành tiền</td>
		                </tr>
		                </thead>
		                <tbody>
		                 {% if (o.list_product_ticket!= null&& o.list_product_ticket!="") { %}
			                {% for (var i=0; i<o.list_product_ticket.length; i++) { %}
			                	<tr>
			                	    <td class="align-left">{%=(i+1)%}</td>
			                	    <td class="align-left">{%=o.list_product_ticket[i].product_name%}</td>
			                	    <td class="align-center">{%=o.list_product_ticket[i].number%}</td>
			                    	<td class="align-right">{%=o.list_product_ticket[i].product_price%}</td>
			                    	<td class="align-right">{%=o.list_product_ticket[i].total_price%}</td>
			                	</tr>
			                {%}%}
			              {%}%}
		                </tbody>
		            </table>
		    </div>
		    <hr class="print-hr">

			<div class="line">
				{%=o.TOTAL_PRODUCT_PRICE%}
				:
				<span class="value">{%=o.total_product_price%}</span>
			</div>

 			<hr class="print-hr">

			{% if (o.is_show_customer) { %}
              	<div class="line">
					{%=o.CUSTOMER_NAME%}
					:
					<span class="value">{%=o.customer_name%}</span>
				</div>
				<div class="line">
					{%=o.CUSTOMER_EMAIL%}
					:
					<span class="value">{%=o.customer_email%}</span>
				</div>
           	{%}%}

			<div class="line">
				{%=o.create_date%}
				<span class="value">{%=o.ticket_id%}</span>
			</div>

			 <div class="line">
	            <p>{%=o.footer%}</p>
	        </div>
		</div>




    </script>
    <script id="send-bar-template" type="text/x-tmpl">
		<div class="font-size-14">
	        <div class="line">
	        	<p><b>{%=o.TICKET%}</b></p>
	        </div>

            <!--<div class="line">-->
				<!--{%=o.TICKET_ID%}-->
				<!--:-->
				<!--<span class="value">{%=o.ticket_id%}</span>-->
			<!--</div>-->

			<div class="line">
				{%=o.TICKET_NAME%}
				:
				<span class="value">{%=o.ticket_name%}</span>
			</div>

			<div class="line">
				{%=o.CREATE_DATE%}
				:
				<span class="value">{%=o.create_date%}</span>
			</div>
			<div class="line">
				{%=o.TICKET_NOTE %}
				:
				<span class="value">{%=o.ticket_note%}</span>
			</div>


			<div>
		            <table class="table-dashed">
		                <thead>
		                <tr>
		                    <td class="align-left">STT</td>
		                    <td class="align-left">Tên</td>
		                    <td class="align-center">SL</td>
		                </tr>
		                </thead>
		                <tbody>
		                 {% if (o.list_product_ticket!= null&& o.list_product_ticket!="") { %}
			                {% for (var i=0; i<o.list_product_ticket.length; i++) { %}
			                	<tr>
			                	    <td class="align-left">{%=(i+1)%}</td>
			                	    <td class="align-left">{%=o.list_product_ticket[i].product_name%}</td>
			                	    <td class="align-center">{%=o.list_product_ticket[i].number%}</td>
			                	</tr>
			                {%}%}
			              {%}%}
		                </tbody>
		            </table>
		    </div>
		</div>




    </script>
    <script id="check-item-template" type="text/x-tmpl">
		<div class="font-size-14">
	        <div class="line">
	        	<p><b>{%=o.TICKET%}</b></p>
	        </div>

	        <div class="line">
				{%=o.TICKET_ID%}
				:
				<span class="value">{%=o.ticket_id%}</span>
			</div>

            <div class="line">
				{%=o.TICKET_NAME%}
				:
				<span class="value">{%=o.ticket_name%}</span>
			</div>

			<div class="line">
				{%=o.CREATE_DATE%}
				:
				<span class="value">{%=o.create_date%}</span>
			</div>

			<div>
		            <table class="table-dashed">
		                <thead>
		                <tr>
		                 <td class="align-left">STT</td>
		                    <td class="align-center">Tên</td>
		                    <td class="align-center">Đơn giá</td>
		                    <td class="align-center">SL đặt</td>
		                    <td class="align-right">Đã gửi</td>
		                </tr>
		                </thead>
		                <tbody>
		                 {% if (o.list_product_ticket!= null&& o.list_product_ticket!="") { %}
			                {% for (var i=0; i<o.list_product_ticket.length; i++) { %}
			                	<tr>
			                	    <td class="align-left">{%=(i+1)%}</td>
			                	    <td class="align-left">{%=o.list_product_ticket[i].product_name%}</td>
			                	    <td class="align-center">{%=o.list_product_ticket[i].product_price%}</td>
			                    	<td class="align-center">{%=o.list_product_ticket[i].number%}</td>
			                    	<td class="align-center">{%=o.list_product_ticket[i].number_send%}</td>
			                	</tr>
			                {%}%}
			              {%}%}
		                </tbody>
		            </table>
		    </div>
		</div>

    </script>
</head>
<body>
<div id="content"></div>
<script type="text/javascript">
		//loadContent('pay-template', ticket);
</script>
</body>
</html>
